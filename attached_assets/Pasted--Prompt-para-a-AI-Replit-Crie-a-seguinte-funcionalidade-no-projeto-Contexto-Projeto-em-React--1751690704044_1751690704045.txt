ğŸ¯ Prompt para a AI Replit
Crie a seguinte funcionalidade no projeto:

Contexto:
Projeto em React + TypeScript com Tailwind CSS, Radix UI, React Query, React Hook Form + Zod, Vite, Wouter.

PÃ¡gina animals-new exibe uma tabela com os animais cadastrados por fazenda selecionada.

Backend em Node.js + Express + PostgreSQL usando Drizzle ORM.

O projeto jÃ¡ possui o seletor de fazendas, exibindo os animais da fazenda selecionada.

âœ… Objetivo:
Implementar um seletor de colunas para a tabela de listagem de animais, permitindo ao usuÃ¡rio escolher quais colunas deseja exibir.

ğŸ“Œ Requisitos:
1ï¸âƒ£ Abrir um popover (Radix UI) ou modal acessado por um Ã­cone de "Configurar colunas" na tabela.
2ï¸âƒ£ Mostrar uma lista de checkboxes com as colunas disponÃ­veis:

CÃ³digo de Registro

Nome

EspÃ©cie

RaÃ§a

GÃªnero

Data de Nascimento

Peso (kg)

Estado de SaÃºde

3ï¸âƒ£ Permitir ao usuÃ¡rio marcar/desmarcar colunas para exibiÃ§Ã£o dinÃ¢mica.

4ï¸âƒ£ As colunas exibidas na tabela devem atualizar imediatamente sem recarregar a pÃ¡gina.

5ï¸âƒ£ PersistÃªncia das preferÃªncias:

Usar localStorage com chave animal-table-columns para armazenar preferÃªncias.

A preferÃªncia deve ser global para todas as fazendas, simplificando o MVP.

6ï¸âƒ£ Manter o estilo atual da tabela (Tailwind) e a responsividade.

7ï¸âƒ£ O estado inicial deve mostrar todas as colunas ativas.

8ï¸âƒ£ Garantir tipagem consistente em TypeScript para as colunas, evitando erros de renderizaÃ§Ã£o.

9ï¸âƒ£ A funÃ§Ã£o de renderizaÃ§Ã£o das colunas na tabela deve utilizar o array de colunas ativas armazenado no estado.

ğŸ› ï¸ Tecnologias e stacks a utilizar:
React + TypeScript

Tailwind CSS

Radix UI para popover/modal

PersistÃªncia com localStorage

Manter compatibilidade com React Query (nenhum fetch adicional necessÃ¡rio)

ğŸš¦ CritÃ©rios de aceitaÃ§Ã£o:
âœ… O usuÃ¡rio consegue abrir o seletor de colunas.
âœ… O usuÃ¡rio consegue marcar/desmarcar colunas e visualizar o efeito imediatamente.
âœ… A preferÃªncia permanece ao recarregar a pÃ¡gina.
âœ… Nenhum erro TypeScript ou quebra visual na tabela.
âœ… Funciona em todas as fazendas, mantendo o filtro atual intacto.